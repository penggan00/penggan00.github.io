<!doctypehtml><html lang=en><meta charset=UTF-8><meta content="width=device-width,initial-scale=1"name=viewport><title>peng gan Blog</title><link href=styles.css rel=stylesheet><div class=header><a href=../../index.html>My Blog</a></div><div class=container><div class=subheader><h1>vps</h1></div><div class=date id=lastModified></div><div class=content></div>
            <h1>一 前言</h1><p>2025 最新 Scaleway星辰 法国FR/荷兰NL/波兰PL 1C1G3G 至高100Mbps速率 无限入站流量 IPv6(Only) IPv4(Cloudflare WARP) €0.21/M 每年不到20CNY!! VPS小鸡 缩小硬盘 密码登录 重装Debian系统 CLI无视库存开机教程。<br>任何面板操作均可能导致 0.01 欧的扣款，且工单不可退.要求验证银行卡账单上对应的验证码,操作复杂，需要有一定动手能力要求。<br>首月创建因为面板操作花销会多一点，后续会根据磁盘大小收费，3G 0.21欧/月，4G 0.24欧/月。建议选择4g的，只差0.03o，避免后续使用的时候硬盘爆掉。</p><h1>二 图文教程</h1><h2>1 前期准备</h2><p>官网：<a href="https://www.scaleway.com/en/">https://www.scaleway.com/en/</a><br>访问官网并创建账号，创建过程会要求输入地址和支付信息。地址可以瞎填，会扣款 1 欧用于验证支付信息（后续会退还），银行卡会生成一次账单，后续该账单会用于进一步验证。<br><img src="https://www.vvars.com/img/i/2025/03/21/1742556908.webp" alt="注册1" title="注册1"></p><h2>2 创建 SSH Key</h2><p>以用于后续登录，官网教程，也可使用 Termius 创建并添加教程与官网类似<br><img src="https://www.vvars.com/img/i/2025/03/21/1742556904_1.webp" alt="ssh key" title="ssh key"><br>生成SSH登录密钥并上传（必须，重要！！确保你在创建机器后能 SSH 连接上管理小鸡）<br>官方提供的教程（推荐）<a href="https://www.scaleway.com/en/docs/organizations-and-projects/how-to/create-ssh-key/#how-to-generate-an-ed25519-ssh-key-pair">How to generate an SSH key</a>.<br>楼主是 Windows 电脑，使用的 PuTTYgen 工具生成的 Ed25519 SSH key。实测 Termius 也能方便快捷地生成密钥（路径：顶部菜单 Vaults&gt;侧边栏 Keychain&gt;二级菜单 KEY 右侧 &gt;Generate Key&gt;Key type 自选&gt;Generate & Save）<br>生成密钥后，点击右上角头像，选择 SSH Keys&gt;Add SSH key，然后根据界面提示上传密钥。<br>至此，你应该成功在你的账号名下添加了SSH登录密钥。仅在DD系统中途需要SSH密钥，本教程提供的方案最后无需密钥，只需密码即可登录SSH。如您需要保留密钥登录功能请您自行保存好此密钥，并自行修改步骤。<br>注意 ： 开机有两种方式，任选GUI或CLI即可。法国地区大概率只能使用CLI开机。</p><h2>3 GUI开机</h2><h3>1)左上角，选择 create-instance，在 PARIS 1、AMSTERDAM 1、WARSAW 2 这三个地区选择 Learning，并选择 STARDUST1-S</h3><p>注意：<br>一般只有荷兰和波兰这两个地区有资源，想要开法国请采用 CLI 开机<br>线路上说法国和荷兰（也就是前两个更好），性能上波兰更好（最后一个），具体请搜站内评测。<br><img src="https://www.vvars.com/img/i/2025/03/21/1742556890_1.webp" alt="create1" title="create1"><br><img src="https://www.vvars.com/img/i/2025/03/21/1742556891.webp" alt="create2" title="create2"></p><h3>2)系统自己决定（最后都会变成debian），名字和标签也无所谓</h3><h3>3) 来到 Add volumes，将其改为 Local</h3><p><img src="https://www.vvars.com/img/i/2025/03/21/1742556889.webp" alt="add v" title="add v"><br><img src="https://www.vvars.com/img/i/2025/03/21/1742556889_1.webp" alt="add v2" title="add v2"></p><h3>4)网络部分去掉勾选 IPv4</h3><p><img src="https://www.vvars.com/img/i/2025/03/21/1742556894.webp" alt="ipv4" title="ipv4"></p><h3>5)SSH 部分一般已经默认勾选了之前创建 SSH，如果没有检查之前的 SSH 操作</h3><h3>6)最后来到预估花销，选择 month，就能看到</h3><p><img src="https://www.vvars.com/img/i/2025/03/21/1742556890.webp" alt="cost" title="cost"></p><p>如果使用GUI开机，那么基本上就结束了，直接去到安全组部分继续。</p><h2>4 CLI 开机</h2><p>看到右上角 CLI，输入以下命令可对应开各地区的机器，电脑端无法右键或 Ctrl+V 粘贴，使用 Ctrl+Shift+V 粘贴，正常创建以后，会出现服务器信息</p><h3>法国</h3><pre><code class="lang-bash">scw instance server create zone=fr-par-1 root-volume=local:10GB name=fr type=STARDUST1-S ipv6=true ip=none</code></pre><h3>荷兰</h3><pre><code class="lang-bash">scw instance server create zone=nl-ams-1 root-volume=local:10GB name=nl type=STARDUST1-S ipv6=true ip=none</code></pre><h3>波兰</h3><pre><code class="lang-bash">scw instance server create zone=pl-waw-2 root-volume=local:10GB name=pl type=STARDUST1-S ipv6=true ip=none</code></pre><p><img src="https://www.vvars.com/img/i/2025/03/21/1742556893_1.webp" alt="inf" title="inf"><br>创建成功后点击左侧 Instance，点击 Attach flexible IP，并选择 IPv6<br><img src="https://www.vvars.com/img/i/2025/03/21/1742556905.webp" alt="v61" title="v61"><br><img src="https://www.vvars.com/img/i/2025/03/21/1742556906.webp" alt="v62" title="v62"></p><h2>5 安全组设置</h2><p>选择 Instance 的 Security 选项，点击你刚刚创建的那个机器对应的选项，添加规则允许所有进出（IPv4、v6 均添加）<br><img src="https://www.vvars.com/img/i/2025/03/21/1742556902.webp" alt="s1" title="s1"><br><img src="https://www.vvars.com/img/i/2025/03/21/1742556902_1.webp" alt="s2" title="s2"><br><img src="https://www.vvars.com/img/i/2025/03/21/1742556903.webp" alt="s3" title="s3"><br>最终效果应该如下<br><img src="https://www.vvars.com/img/i/2025/03/21/1742556904.webp" alt="s4" title="s4"></p><h2>6 降低配置</h2><h3>1）来到你刚刚创建的机器的管理页面，关机</h3><p><img src="https://www.vvars.com/img/i/2025/03/21/1742556897_1.webp" alt="off" title="off"></p><h3>2）选择 Attacched volumes，并解绑硬盘</h3><p><img src="https://www.vvars.com/img/i/2025/03/21/1742556891_1.webp" alt="d1" title="d1"></p><h3>3）返回 Instance，选择 Volumes 删除 10G 的硬盘</h3><p><img src="https://www.vvars.com/img/i/2025/03/21/1742556893.webp" alt="d2" title="d2"></p><h3>4）再回到机器管理页面选择 Attacched volumes</h3><p>选择 create，并先将硬盘大小改至 5GB，选择 Local 后，再改至 4GB（debian12 至少需要4G)，然后 Add（如果你需要安装其他系统，请参照其他教程，本教程仅提供debian，但是整体方法差不多，可以参照修改）<br>注意：如果安装debian11使用3GB即可，但是debian11疑似存在网络配置问题，解决方法请参照感谢标题下的第一个帖子，或者也可以通过CLI创建一个 4GB的用于debian12也可以。<br><img src="https://www.vvars.com/img/i/2025/03/21/1742556887.webp" alt="a1" title="a1"><br><img src="https://www.vvars.com/img/i/2025/03/21/1742556888.webp" alt="a2" title="a2"></p><h3>5） 来到 Advanced settings，选择救援系统启动，保存后开机，开机时间可能非常长，请耐心等等，开机以后在你本地使用之前创建的 key 登录，账号为 root</h3><p><img src="https://www.vvars.com/img/i/2025/03/21/1742556898.webp" alt="re1" title="re1"><br><img src="https://www.vvars.com/img/i/2025/03/21/1742556899.webp" alt="re2" title="re2"></p><h3>6） 连接完成后，请执行如下命令</h3><p>四条任选其一即可，不建议 debian 11，疑似存在网络配置的问题。</p><pre><code class="lang-bash"># Debian 12:
curl -Lo- &quot;https://cloud.debian.org/images/cloud/bookworm/latest/debian-12-nocloud-amd64.raw&quot; | dd of=/dev/vda bs=1M
# Debian 12:
curl -Lo- &quot;https://cloud.debian.org/images/cloud/bookworm/latest/debian-12-nocloud-amd64.tar.xz&quot; | tar -xJO | dd of=/dev/vda bs=1M

# Debian 11:
curl -Lo- &quot;https://cloud.debian.org/images/cloud/bullseye/latest/debian-11-nocloud-amd64.raw&quot; | dd of=/dev/vda bs=1M
# Debian 11:
curl -Lo- &quot;https://cloud.debian.org/images/cloud/bullseye/latest/debian-11-nocloud-amd64.tar.xz&quot; | tar -xJO | dd of=/dev/vda bs=1M</code></pre><p><img src="https://www.vvars.com/img/i/2025/03/21/1742556900.webp" alt="re3" title="re3"></p><h3>7） 确定对应磁盘，一般都是 vda，如果确认是 vda 继续操作</h3><p>磁盘确认：</p><pre><code class="lang-bash">lsblk</code></pre><p>重装系统：</p><pre><code class="lang-bash">parted -l
partprobe
parted -s /dev/vda resizepart 1 100%
e2fsck -f /dev/vda1
resize2fs /dev/vda1</code></pre><p>注意：这里会比较复杂，会先提示 sda，sda 直接跳过即可，然后提示 Warning: Not all of the space available to /dev/vda appears to be used, you can fix the GPT to use all of the space or continue with the current setting? 选择 f 修复<br><img src="https://www.vvars.com/img/i/2025/03/21/1742556900_1.webp" alt="re4" title="re4"><br><img src="https://www.vvars.com/img/i/2025/03/21/1742556901.webp" alt="re5" title="re5"></p><h3>8） 回到实例管理面板并关机，再来到 Advanced settings，Boot mode 选择 local 并保存， Boot volume 选择 4GB 并保存（选择 later），启动机器</h3><p><img src="https://www.vvars.com/img/i/2025/03/21/1742556895.webp" alt="l1" title="l1"></p><h3>9） 来到 Overview，点击 Console，进入 VNC，等到出现登录界面，输入 root 回车即可登录</h3><p><img src="https://www.vvars.com/img/i/2025/03/21/1742556895_1.webp" alt="l2" title="l2"><br><img src="https://www.vvars.com/img/i/2025/03/21/1742556896.webp" alt="l3" title="l3"></p><h3>10） 更新软件包，安装必备软件</h3><pre><code class="lang-bash">apt update -y &amp;&amp; apt upgrade -y
apt install openssh-server sudo curl wget nano</code></pre><h3>11）设置允许密码登录</h3><pre><code class="lang-bash">nano /etc/ssh/sshd_config</code></pre><p>找个合适的位置输入（或者你在文件里面找到修改也行）</p><pre><code class="lang-bash">PermitRootLogin yes</code></pre><p>ctrl+o 回车，ctrl+s 回车即可保存。<br><img src="https://www.vvars.com/img/i/2025/03/21/1742556897.webp" alt="l4" title="l4"></p><h3>12）设置密码</h3><pre><code class="lang-bash">passwd</code></pre><p>根据提示设置完成后，重启 SSH 服务</p><pre><code class="lang-bash">systemctl restart ssh</code></pre><p>然后就可以在本地使用 root + 密码正常登录了</p><h2>7添加Warp IPv4出口</h2><p>项目地址：<a href="https://gitlab.com/fscarmen/warp">https://gitlab.com/fscarmen/warp</a><br>本地登陆以后，使用以下命令添加warp 4的出口</p><pre><code class="lang-bash">wget -N https://gitlab.com/fscarmen/warp/-/raw/main/menu.sh &amp;&amp; bash menu.sh</code></pre><p>然后2，1一直回车就行<br><img src="https://www.vvars.com/img/i/2025/03/21/1742556907.webp" alt="warp2" title="warp2"><br><img src="https://www.vvars.com/img/i/2025/03/21/1742556906_1.webp" alt="warp1" title="warp1"></p><h2>8 装Argo实现科学上网</h2><p>直接用fscarmen大佬的argo+xray一键安装脚本即可。<br>这样我们就有1台无线流量的富强VPS，而每个月只需要花费0.24欧元。</p><pre><code class="lang-bash">bash &lt;(wget -qO- https://raw.githubusercontent.com/fscarmen/argox/main/argox.sh)</code></pre>      </article>          <div class="joe_detail__agree">
 
</body>

</html>
