<!doctypehtml><html lang=en><meta charset=UTF-8><meta content="width=device-width,initial-scale=1"name=viewport><title>peng gan blog</title><link href=../static/css/blog.css rel=stylesheet><header><div class=header><a href=../index.html>My Blog</a></div></header><main><div class=search-container><input id=search-input oninput=searchArticles() placeholder="Search articles..."></div><div id=articles></div><div class=pagination></div></main><script src=articles/articles1.js></script><script src=articles/articles2.js></script><script>let articles=[];"undefined"!=typeof articles1&&(articles=articles.concat(articles1)),"undefined"!=typeof articles2&&(articles=articles.concat(articles2));let currentPage=1;const articlesPerPage=10;function formatDate(e){return new Date(e).toLocaleDateString("en-CA",{year:"numeric",month:"2-digit",day:"2-digit"})}function displayArticles(e,t){let n=e.slice((t-1)*10,10*t),a=document.getElementById("articles");a.innerHTML="",n.forEach(e=>{let t=document.createElement("div");t.classList.add("post"),t.innerHTML=`
    <h2><a href="${e.link}">${e.title}</a></h2>
    <span class="timestamp">${formatDate(e.lastModified)}</span>
`,a.appendChild(t)});let r=Math.ceil(e.length/10),l=document.querySelector(".pagination");l.innerHTML="";let c=document.createElement("button");c.textContent="<",c.onclick=prevPage,l.appendChild(c);let i=[];if(r<=5)for(let s=1;s<=r;s++)i.push(s);else currentPage>2&&(i.push(1),i.push(2),currentPage>3&&i.push("...")),currentPage>1&&i.push(currentPage-1),i.push(currentPage),currentPage<r&&i.push(currentPage+1),currentPage<r-1&&(currentPage<r-2&&i.push("..."),i.push(r-1),i.push(r));i.forEach(e=>{if("..."===e){let t=document.createElement("span");t.textContent="...",l.appendChild(t)}else{let n=document.createElement("button");n.textContent=e,n.onclick=function(){currentPage=e,loadArticles()},e===currentPage&&n.classList.add("active"),l.appendChild(n)}});let u=document.createElement("button");u.textContent=">",u.onclick=nextPage,l.appendChild(u);let o=document.createElement("input");o.type="number",o.min=1,o.max=r,o.value=currentPage,o.onchange=function(){currentPage=parseInt(this.value),loadArticles()},l.appendChild(o)}function loadArticles(){let e=articles.sort((e,t)=>new Date(t.lastModified)-new Date(e.lastModified));displayArticles(e,currentPage)}function nextPage(){10*currentPage<articles.length&&(currentPage++,loadArticles())}function prevPage(){currentPage>1&&(currentPage--,loadArticles())}function searchArticles(){let e=document.getElementById("search-input").value.toLowerCase(),t=articles.filter(t=>t.title.toLowerCase().includes(e));displayArticles(t,1)}document.addEventListener("DOMContentLoaded",loadArticles);</script>