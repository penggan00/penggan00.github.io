---
layout: default
pagination:
  enabled: true
---
<div class="search-container">
  <input id="search-input" placeholder="Search articles...">
</div>

<div id="articles">
  {% for post in paginator.posts %}
    <div class="post">
      <h2><a href="{{ post.link | default: post.url }}">{{ post.title }}</a></h2>
      <span class="timestamp">{{ post.lastModified | date: "%Y-%m-%d" }}</span>
    </div>
  {% endfor %}
</div>

<!-- 分页导航 -->
{% if paginator.total_pages > 1 %}
<div class="pagination">
  {% if paginator.previous_page %}
    <a href="{{ paginator.previous_page_path }}">←</a>
  {% endif %}

  {% for page in (1..paginator.total_pages) %}
    {% if page == paginator.page %}
      <span class="active">{{ page }}</span>
    {% else %}
      <a href="{{ site.paginate_path | replace: ':num', page }}">{{ page }}</a>
    {% endif %}
  {% endfor %}

  {% if paginator.next_page %}
    <a href="{{ paginator.next_page_path }}">→</a>
  {% endif %}
</div>
{% endif %}

<script>
// 从Jekyll数据初始化
const articles = [
  {% for post in site.posts %}
    {
      title: `{{ post.title | escape }}`,
      link: `{{ post.link | default: post.url | relative_url }}`,
      lastModified: `{{ post.lastModified }}`
    }{% unless forloop.last %},{% endunless %}
  {% endfor %}
];
</script>