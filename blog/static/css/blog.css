---
layout: blog
title: Blog
permalink: /blog/
---

<div class="search-container">
  <input id="search-input" placeholder="Search articles..." style="width:100%;max-width:800px;padding:9px;font-size:15px;margin-top:6px;margin-bottom:6px">
</div>

<div id="articles" style="margin:0 auto;padding:0 10px;max-width:800px"></div>

<div class="pagination" style="display:flex;justify-content:center;margin:20px 0"></div>

<script>
  // 从 Jekyll 生成文章数据
  let articles = [
    {% for post in site.posts %}
    {
      title: "{{ post.title | escape }}",
      link: "{{ post.url | relative_url }}",
      lastModified: "{{ post.date | date_to_xmlschema }}"
    }{% unless forloop.last %},{% endunless %}
    {% endfor %}
  ];

  let currentPage = 1;
  const articlesPerPage = 10;

  function formatDate(date) {
    return new Date(date).toLocaleDateString("en-CA", {
      year: "numeric",
      month: "2-digit",
      day: "2-digit"
    });
  }

  function displayArticles(filteredArticles, page) {
    let paginated = filteredArticles.slice((page-1)*10, 10*page);
    let container = document.getElementById("articles");
    container.innerHTML = "";
    
    paginated.forEach(post => {
      let div = document.createElement("div");
      div.className = "post";
      div.style = "background-color:#fff;margin-bottom:9px;border-radius:5px;box-shadow:0 2px 4px rgba(0,0,0,.1);padding:12px 20px;font-size:1.1em;color:#888;display:flex;justify-content:space-between;align-items:center";
      div.innerHTML = `
        <h2 style="font-size:16px;text-align:left;margin:0;padding:0">
          <a href="${post.link}" style="color:#000;text-decoration:none" onmouseover="this.style.textDecoration='underline'" onmouseout="this.style.textDecoration='none'">
            ${post.title}
          </a>
        </h2>
        <span class="timestamp" style="font-size:.7em;color:#888;margin-left:auto;white-space:nowrap">
          ${formatDate(post.lastModified)}
        </span>
      `;
      container.appendChild(div);
    });

    // 分页逻辑保持不变
    updatePagination(filteredArticles);
  }

  function updatePagination(articles) {
    // ...保持原有分页逻辑...
  }

  // 其他函数保持不变...
  document.addEventListener("DOMContentLoaded", () => displayArticles(articles, 1));
</script>